<Window x:Class="Vistas.InscripcionAlta"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Alta de Inscripción" Height="716" Width="726" 
        Background="#f8f0ec" WindowStartupLocation="CenterScreen">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ENCABEZADO CON TÍTULO Y LOGO -->
        <Grid Grid.Row="0" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- TÍTULO PRINCIPAL CENTRADO -->
            <Label Content="ALTA DE INSCRIPCIÓN" 
                   Style="{StaticResource LabelTitulo}" 
                   HorizontalAlignment="Center" VerticalAlignment="Center"
                   Grid.Column="0" Grid.ColumnSpan="2"/>

            <!-- LOGO EN ESQUINA SUPERIOR DERECHA -->
            <Image Source="/Images/logo-lujan.png" Grid.Column="1"
                   Width="60" Height="60" 
                   HorizontalAlignment="Right" VerticalAlignment="Center"/>
        </Grid>

        <!-- SECCIÓN CURSO (ARRIBA) -->
        <Border Grid.Row="1" CornerRadius="10" 
                Background="White" BorderBrush="{StaticResource BordeBrush}" 
                BorderThickness="1" Margin="20,10,20,15">
            <Grid Margin="15">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Label Content="CURSO" Grid.Row="0"
                       Style="{StaticResource LabelSubtitulo}" 
                       Margin="0,0,0,10"/>

                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Label Content="Curso:" Grid.Column="0" 
                           Style="{StaticResource CustomLabel}" 
                           VerticalAlignment="Center" Margin="0,0,15,0"/>

                    <ComboBox x:Name="cmbCurso" Grid.Column="1" 
                              Height="45" Style="{StaticResource CustomComboBox}" SelectionChanged="cmbCurso_SelectionChanged">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📚" Margin="0,0,6,0"/>
                                    <TextBlock>
                                        <Run Text="{Binding Path=Cur_Nombre}" />
                                    </TextBlock>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </Grid>

                <!-- FECHAS DEL CURSO -->
                <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,15,0,0" HorizontalAlignment="Center">
                    <StackPanel Orientation="Horizontal" Margin="0,0,30,0">
                        <Label Content="📅 Fecha Inicio:" 
                               Style="{StaticResource CustomLabel}" 
                               VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <Label x:Name="lblFechaInicio" Content="--/--/----" 
                               Style="{StaticResource CustomLabel}" 
                               VerticalAlignment="Center" FontWeight="Bold" Foreground="#2E7D32"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal">
                        <Label Content="📅 Fecha Fin:" 
                               Style="{StaticResource CustomLabel}" 
                               VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <Label x:Name="lblFechaFin" Content="--/--/----" 
                               Style="{StaticResource CustomLabel}" 
                               VerticalAlignment="Center" FontWeight="Bold" Foreground="#C62828"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>

        <!-- SECCIÓN ALUMNO (ABAJO) -->
        <Border Grid.Row="2" Margin="20,0,20,20" CornerRadius="10" 
                Background="White" BorderBrush="{StaticResource BordeBrush}" 
                BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- TÍTULO ALUMNO -->
                <Label Content="ALUMNO" Grid.Row="0"
                       Style="{StaticResource LabelSubtitulo}" 
                       Margin="15,15,15,10"/>

                <!-- PANEL DE BÚSQUEDA -->
                <Border Grid.Row="1" Margin="15,0,15,10" CornerRadius="8" 
                        Background="#f8f9fa" BorderBrush="{StaticResource BordeBrush}" 
                        BorderThickness="1" Height="70">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Label Content="Buscar por DNI:" 
                               Style="{StaticResource CustomLabel}" 
                               VerticalAlignment="Center" Grid.Column="0" Margin="0,0,15,0"/>

                        <TextBox Name="txtBusqueda" Grid.Column="1" 
                                 Height="40" Margin="0,0,15,0"
                                 Style="{StaticResource txt_plantillaStyle}" 
                                 VerticalAlignment="Center"
                                 KeyDown="txtBusqueda_KeyDown"/>

                        <Button Name="btnBuscar" Content="Buscar" Grid.Column="2"
                                Width="100" Height="35"
                                Style="{StaticResource btnAceptar}"
                                Click="btnBuscar_Click"/>
                    </Grid>
                </Border>

                <!-- INFORMACIÓN DEL ALUMNO ENCONTRADO -->
                <Border Grid.Row="2" Margin="15,0,15,15" CornerRadius="8" 
                        Background="#e8f5e8" BorderBrush="#4CAF50" 
                        BorderThickness="1" Visibility="Collapsed" x:Name="borderAlumnoInfo">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Label Content="👤 Alumno encontrado:" 
                               Style="{StaticResource CustomLabel}" 
                               FontWeight="Bold" Foreground="#2E7D32"
                               Margin="0,0,0,5"/>

                        <Label x:Name="lblAlumnoInfo" Grid.Row="1" 
                               Content="Nombre Apellido"
                               Style="{StaticResource CustomLabel}" 
                               FontWeight="Bold" FontSize="14"
                               Foreground="#1B5E20"/>
                    </Grid>
                </Border>

                <!-- MENSAJE DE NO ENCONTRADO -->
                <Border Grid.Row="2" Margin="15,0,15,15" CornerRadius="8" 
        Background="#ffebee" BorderBrush="#f44336" 
        BorderThickness="1" Visibility="Collapsed" x:Name="borderAlumnoNoEncontrado">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Label Content="⚠️ Alumno no encontrado:" 
               Style="{StaticResource CustomLabel}" 
               FontWeight="Bold" Foreground="#d32f2f"
               Margin="0,0,0,5"/>

                        <Label x:Name="lblAlumnoNoEncontrado" Grid.Row="1" 
               Content="No se encontró usuario"
               Style="{StaticResource CustomLabel}" 
               FontWeight="Bold" FontSize="14"
               Foreground="#b71c1c"/>
                    </Grid>
                </Border>

            </Grid>
        </Border>

        <!-- BOTONES CENTRADOS -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" 
                    HorizontalAlignment="Center" 
                    Margin="0,15,0,0">
            <Button Name="btnInscribir" Content="Inscribir" Width="120" Height="40"
                    Style="{StaticResource btnAceptar}" 
                    Click="btnInscribir_Click" Margin="0,0,15,0"/>

            <Button Name="btnCancelar" Content="Cancelar" Width="120" Height="40"
                    Style="{StaticResource btnCancelar}" 
                    Click="btnCancelar_Click"/>
        </StackPanel>

    </Grid>
</Window>